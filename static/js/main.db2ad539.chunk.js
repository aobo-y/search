(this.webpackJsonpsearch=this.webpackJsonpsearch||[]).push([[0],{128:function(e,t,a){e.exports=a(240)},133:function(e,t,a){},134:function(e,t,a){},163:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),i=(a(133),a(38)),s=a(39),l=a(43),u=a(40),m=a(44),h=(a(134),a(112)),p=a.n(h),d=a(244),f=a(55),g=a.n(f),v=a(123),y=a(243),w=a(242),b=a(245),E=(a(163),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.onClickHandler,n=new URL(t.url);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Item.Meta,{avatar:r.a.createElement(w.a,{size:"small",shape:"square",src:"https://www.google.com/s2/favicons?domain_url="+n.host},t.title[0]),title:r.a.createElement("a",{className:"title-anchor",href:t.url,target:"_blank",rel:"noopener noreferrer",onClick:a},t.title),description:t.subtitle}),t.desc)}}]),t}(n.PureComponent)),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getDummyItems=function(){return Object(v.a)(Array(6).keys()).map((function(){return{}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.loading,c=t.onItemClickHandler;return r.a.createElement("div",null,n||a.length+" results",r.a.createElement(y.a,{className:"search-list",itemLayout:"vertical",size:"large",dataSource:n?this.getDummyItems():a,renderItem:function(t,a){return r.a.createElement(y.a.Item,{key:a},n?r.a.createElement(b.a,{loading:n,active:!0,avatar:!0}):r.a.createElement(E,{item:t,onClickHandler:c.bind(e,a,t)}))}}))}}]),t}(n.PureComponent),j=a(81),O=a.n(j),q=p.a.create({baseURL:"https://mysterious-lowlands-29750.herokuapp.com/v1/"}),C=d.a.Search,I=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setQuery=function(){var e=g.a.parse(window.location.search).q;e?(a.setState({query:e,loading:!0},(function(){a.searchRef.current.input.blur()})),q.get("/search",{params:{q:e}}).then((function(e){if(200!==e.status)throw Error(e.data);a.setState({items:e.data,loading:!1})}))):a.searchRef.current.focus()},a.onSearch=function(e){(e=e.trim())&&(window.history.pushState({},null,"?"+g.a.stringify({q:e})),a.setQuery())},a.onItemClick=function(e,t){var n=a.state,r=n.query,c=n.items;q.post("/click",{query:r,idx:e,total:c.length,url:t.url}).then((function(e){if(200!==e.status)throw Error(e.data)}))},a.searchRef=r.a.createRef();var n=g.a.parse(window.location.search).q;return a.state={query:n,loading:Boolean(n),items:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setQuery()}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.loading,n=e.items,c="App-header";return t&&(c+=" App-header__squeezed"),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:c},t?r.a.createElement("a",{href:window.location.pathname},r.a.createElement("img",{src:O.a,className:"App-logo",alt:"logo"})):r.a.createElement("img",{src:O.a,className:"App-logo",alt:"logo"}),r.a.createElement("div",{className:"App-search"},r.a.createElement(C,{placeholder:"input search text",size:"large",onSearch:this.onSearch,defaultValue:t,ref:this.searchRef}))),t&&r.a.createElement("div",{className:"App-content"},r.a.createElement(k,{loading:a,items:n,onItemClickHandler:this.onItemClick})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[128,1,2]]]);
//# sourceMappingURL=main.db2ad539.chunk.js.map